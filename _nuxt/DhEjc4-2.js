import{X as h,a as c,av as y,aw as f,a8 as S,ax as p,aq as L,ar as m,d as b,r as I,o as v,t as n,a3 as O,V as N,v as r,A as C,K as u}from"./BtRRPgJb.js";const k=h("logoStorageData",{state:()=>({creationStep:1,logoBuilder:!1,companyName:"",createMyLogoIsActive:!1,selectedIndustry:null,selectedLogoStyle:null,fullBusinessName:"",businessNameInitials:"",selectedSuffix:null,businessCategory:"",sloganOrTagline:"",sloganOrTaglinePresent:!1,preferredSymbolsOrStyles:[],selectedFontStyles:[],selectedColorStyles:[],logoGenerationLoading:!1,originalLogoFieldValues:[],selectedLogoID:"",logoEditorSelected:!1,logoEditorLogoID:"",showSaveLogoModal:!1,undoHistory:[],redoHistory:[],savedLogos:[]}),getters:{savedLogoCount:e=>e.savedLogos.length},actions:{activateCreateMyLogo(){this.createMyLogoIsActive=!0},triggerLogoGeneration(){this.logoGenerationLoading=!0,this.creationStep=0,setTimeout(()=>{this.logoGenerationLoading=!1,this.logoBuilder=!0},1e3)},nextStep(){this.creationStep<7&&this.creationStep++},previousStep(){this.creationStep>1&&this.creationStep--},pushUndoHistory(e,t=15){this.undoHistory.push(JSON.parse(JSON.stringify(e))),this.undoHistory.length>t&&this.undoHistory.shift(),this.redoHistory=[]},pushRedoHistory(e,t=15){this.redoHistory.push(JSON.parse(JSON.stringify(e))),this.redoHistory.length>t&&this.redoHistory.shift()},popUndoHistory(){return this.undoHistory.pop()},popRedoHistory(){return this.redoHistory.pop()},restoreState(e){this.selectedIndustry=e.selectedIndustry?{...e.selectedIndustry}:null,this.selectedLogoStyle=e.selectedLogoStyle,this.selectedSuffix=e.selectedSuffix,this.sloganOrTagline=e.sloganOrTagline,this.preferredSymbolsOrStyles=[...e.preferredSymbolsOrStyles],this.selectedColorStyles=[...e.selectedColorStyles],this.fullBusinessName=e.fullBusinessName,this.businessNameInitials=e.businessNameInitials,this.businessCategory=e.businessCategory},openLogoEditor(e){this.selectedLogoID=e,this.logoEditorSelected=!0},closeLogoEditor(){this.logoEditorSelected=!1,this.selectedLogoID=""},async saveLogo(){console.log("save logo function from logoStores pinia");const e=c(),t=e.$firebase.auth,l=e.$firebase.firebaseDatabase,s=t.currentUser;if(!s)return this.showSaveLogoModal=!0,null;const o={creationStep:this.creationStep,logoBuilder:this.logoBuilder,companyName:this.companyName,createMyLogoIsActive:this.createMyLogoIsActive,fullBusinessName:this.fullBusinessName,businessNameInitials:this.businessNameInitials,businessCategory:this.businessCategory,sloganOrTagline:this.sloganOrTagline,sloganOrTaglinePresent:this.sloganOrTaglinePresent,selectedIndustry:this.selectedIndustry?JSON.parse(JSON.stringify(this.selectedIndustry)):null,selectedLogoStyle:this.selectedLogoStyle,selectedSuffix:this.selectedSuffix,preferredSymbolsOrStyles:[...this.preferredSymbolsOrStyles],selectedFontStyles:[...this.selectedFontStyles],selectedColorStyles:[...this.selectedColorStyles],logoGenerationLoading:this.logoGenerationLoading,selectedLogoID:this.selectedLogoID,logoEditorSelected:this.logoEditorSelected,logoEditorLogoID:this.logoEditorLogoID},i={userId:s.uid,createdAt:new Date,state:o},a=`${s.uid}_${Date.now()}`;return await L(m(l,"logos",a),i),a},openSaveLogoModal(){this.showSaveLogoModal=!0},closeSaveLogoModal(){this.showSaveLogoModal=!1},async fetchSavedLogos(){const e=c(),t=e.$firebase.auth,l=e.$firebase.firebaseDatabase,s=t.currentUser;if(!s){this.savedLogos=[];return}const o=y(S(l,"logos"),f("userId","==",s.uid)),i=await p(o);this.savedLogos=i.docs.map(a=>({id:a.id,...a.data()}))},restoreLogo(e){this.$patch(e.state)}}}),x=Symbol.for("nuxt:client-only"),T=b({name:"ClientOnly",inheritAttrs:!1,props:["fallback","placeholder","placeholderTag","fallbackTag"],setup(e,{slots:t,attrs:l}){const s=I(!1);return v(()=>{s.value=!0}),O(x,!0),o=>{var d;if(s.value)return(d=t.default)==null?void 0:d.call(t);const i=t.fallback||t.placeholder;if(i)return i();const a=o.fallback||o.placeholder||"",g=o.fallbackTag||o.placeholderTag||"span";return n(g,l,a)}}}),D=["src","alt"],H=["src","alt"],E={__name:"ImageElement",props:{addonClasses:{type:String,required:!1,default:""},altText:{type:String,required:!1,default:""},imageSource:{type:String,required:!1,default:""},lazyLoad:{type:Boolean,required:!1,default:!0}},setup(e){return(t,l)=>{const s=T;return r(),N(s,null,{default:C(()=>[e.lazyLoad?(r(),n("img",{key:0,class:u([e.addonClasses,{lazy:e.lazyLoad}]),src:e.imageSource,alt:e.altText,loading:"lazy"},null,10,D)):(r(),n("img",{key:1,class:u(e.addonClasses),src:e.imageSource,alt:e.altText},null,10,H))]),_:1})}}};export{E as _,T as a,k as u};
